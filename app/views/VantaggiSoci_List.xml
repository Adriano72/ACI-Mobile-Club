<Alloy>
	<Window id="win" class="container" onOpen="openWin">
		<TitleControl platform="ios">
			<View id="titleControl" class="titleControl">
				<ImageView id="titleIcon"></ImageView>
				<Label id="titleLabel" class="PTSansBold"></Label>
			</View>
		</TitleControl>
		<RightNavButton platform="ios">
			<ImageView onClick="mostraMappa" class="rightNavImg"/>
		</RightNavButton>
		<Menu id="menu" platform="android">

			<!-- Cannot specify node text.  Use attributes only. -->
			<!--<MenuItem id="mn_menu" title="Menu" onClick="showHideMenu"/>-->
			<MenuItem id="mn_settings" onClick="mostraMappa"/>

		</Menu>
		
		<TableView id="puntiAci_Table" class="table" onSingletap="dettaglioConvenzione" dataCollection="tempCollection" dataTransform="dataTransform" dataFunction="updateUI" >
			<SearchBar id="searchBar"/>
			<TableViewRow id="riga" class="row" modelId="{id}" title="{name}">
				<View class="blockContainer">
					<View class="iconContainer">
						<ImageView class="logoConvenzione" image="{immagine}"/>
					</View>
					<View class="centerContainer">
						<Label class="simpleRowText PTSansBold" id="nome" text="{name}"/>
						<Label class="simpleRowText PTSansRegular indirizzo" text="{indirizzo}"/>
						<Label class="simpleRowText PTSansRegular indirizzo" text="{indirizzo2}"/>
						<Label class="indicazioniStradali PTSansBold" lat="{latitude}" lon="{longitude}" id="indicazioni" onSingletap="openNavigation"/>

					</View>
					<View class="rightContainer">
						<Label class="simpleRowText PTSansBold" id="distanza" text="{distance}"/>
						<Label class="simpleRowText PTSansRegular" id="sconto"/>
						<ImageView class="preferiti" id="preferiti" onSingletap="togglePreferiti"/>
						<Label class="dettagli PTSansBold" onSingletap="openDettagli"/>

					</View>
				</View>
			</TableViewRow>
		</TableView>
	</Window>
</Alloy>